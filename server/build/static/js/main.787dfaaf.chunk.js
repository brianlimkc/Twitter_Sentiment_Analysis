(this["webpackJsonpreal-time-tweet-streamer"]=this["webpackJsonpreal-time-tweet-streamer"]||[]).push([[0],{102:function(e,t){},111:function(e,t,a){var n={"./en/index":53};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=111},133:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(62),l=a.n(c),o=a(63),i=a(64),s=a(70),u=a(69),d=a(18),m=a(3),p=function(){return r.a.createElement("div",{className:"ui three item menu"},r.a.createElement(d.b,{to:"/recent",className:"item"},"Recent Tweet Search"),r.a.createElement(d.b,{to:"/rules",className:"item"},"Manage Rules"),r.a.createElement(d.b,{to:"/tweets",className:"item"},"Tweet Stream"))},g=a(17),v=a(2),y=a(21),f=a(66),h=a.n(f),E=function(e){var t=e.error,a=e.styleType;return r.a.createElement("div",{className:"ui message ".concat(a)},r.a.createElement("div",{className:"header"},t.title),t.details?t.details.map((function(e){return r.a.createElement("p",{key:e},e)})):t.detail?r.a.createElement("p",{key:t.detail},t.detail):void 0,function(){if(t.type)return r.a.createElement("em",null,"See",r.a.createElement("a",{href:t.type,target:"_blank",rel:"noopener noreferrer"}," ","Twitter documentation"," "),"for further details.")}())},b=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"ui active centered large inline loader"},r.a.createElement("img",{className:"ui image",src:"/Twitter_Logo_Blue.png",alt:"Twitter Logo"})))},w=a(136),O=a(68);var j=function(e){var t=e.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"".concat(e.sentimentColor)},r.a.createElement(O.a,{options:{cards:"hidden",align:"center",width:"450",conversation:"none"},tweetId:t,placeholder:"Loading..."})),r.a.createElement("td",{className:"".concat(e.sentimentColor)},r.a.createElement("h3",null,"Positive"),e.positive.map((function(e,t){return r.a.createElement("li",{key:t},e)}))),r.a.createElement("td",{className:"".concat(e.sentimentColor)},r.a.createElement("h3",null,"Negative"),e.negative.map((function(e,t){return r.a.createElement("li",{key:t},e)}))),r.a.createElement("td",{className:"".concat(e.sentimentColor)},r.a.createElement("h3",null,"Overall Score: ",e.score),r.a.createElement("h3",null,"Comparative Score: ",e.comparative.toFixed(2))))};var _=function(e){var t=e.tweets,a=e.searchTerm,n=e.cuScore,c=e.cuComScore;if(t&&t.length>0)return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("h1",null,"Search Term")),r.a.createElement("th",null,r.a.createElement("h1",null,"Average Score")),r.a.createElement("th",null,r.a.createElement("h1",null,"Average Comparative")))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("h1",null,a)),r.a.createElement("td",null,r.a.createElement("h1",null,(n/t.length).toFixed(2))),r.a.createElement("td",null,r.a.createElement("h1",null,(c/t.length).toFixed(2)))))),r.a.createElement(w.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"tableCol"},r.a.createElement("h1",null,"Tweet")),r.a.createElement("th",{className:"tableCol"},r.a.createElement("h1",null,"Positive")),r.a.createElement("th",{className:"tableCol"},r.a.createElement("h1",null,"Negative")),r.a.createElement("th",{className:"tableCol"},r.a.createElement("h1",null,"Score")))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},j(e))})))))},x=new(a(52)),N=function(e,t){switch(t.type){case"add_tweet":console.log("Inside reducer/add tweet"),console.log(t.payload);var a=t.payload.data,n=x.analyze(a.text),r="zero",c=n.score;c<=-6?r="neg5":c<=-4&&c>-6?r="neg4":c<=-2&&c>-4?r="neg3":c<=-1&&c>-2?r="neg2":c>-1&&c<0?r="neg1":0===c?r="zero":c>0&&c<1?r="pos1":c>=1&&c<2?r="pos2":c>=2&&c<4?r="pos3":c>=4&&c<6?r="pos4":c>=6&&(r="pos5");var l={id:a.id,text:a.text,score:n.score,comparative:n.comparative,calculation:n.calculation,negative:n.negative,positive:n.positive,sentimentColor:r},o=e.cuScore+n.score,i=e.cuComScore+n.comparative,s=Object(y.a)(e.tweets);return s.unshift(l),console.log(l),Object(v.a)(Object(v.a)({},e),{},{tweets:s,cuScore:o,cuComScore:i,error:null,isWaiting:!1,errors:[]});case"show_error":return Object(v.a)(Object(v.a)({},e),{},{error:t.payload,isWaiting:!1});case"add_errors":return Object(v.a)(Object(v.a)({},e),{},{errors:t.payload,isWaiting:!1});case"update_waiting":return Object(v.a)(Object(v.a)({},e),{},{error:null,isWaiting:!0});default:return e}},T=function(){var e=Object(n.useReducer)(N,{tweets:[],error:{},isWaiting:!0,cuScore:0,cuComScore:0,searchTerm:""}),t=Object(g.a)(e,2),a=t[0],c=t[1],l=a.error,o=a.isWaiting;return Object(n.useEffect)((function(){!function(){var e;(e=h()("/")).on("connect",(function(){})),e.on("tweet",(function(e){e.data&&c({type:"add_tweet",payload:e})})),e.on("heartbeat",(function(e){c({type:"update_waiting"})})),e.on("error",(function(e){c({type:"show_error",payload:e})})),e.on("authError",(function(e){console.log("data =>",e),c({type:"add_errors",payload:[e]})}))}()}),[]),r.a.createElement("div",null,function(){var e={title:"Reconnecting",detail:"Please wait while we reconnect to the stream."};if(l&&l.detail)return r.a.createElement("div",null,r.a.createElement(E,{key:l.title,error:l,styleType:"warning"}),r.a.createElement(E,{key:e.title,error:e,styleType:"success"}),r.a.createElement(b,null))}(),function(){var e=a.errors;if(e&&e.length>0)return e.map((function(e){return r.a.createElement(E,{key:e.title,error:e,styleType:"negative"})}))}(),function(){var e={title:"Still working",detail:"Waiting for new Tweets to be posted"};if(o)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(E,{key:e.title,error:e,styleType:"success"})),r.a.createElement(b,null))}(),_(a))},k=a(11),S=a.n(k),C=a(19),R=a(20),L=a.n(R),F=function(e){var t=e.data,a=e.onRuleDelete;return r.a.createElement("div",{className:"ui segment"},r.a.createElement("p",null,t.value),r.a.createElement("div",{className:"ui label"},"tag: ",t.tag),r.a.createElement("button",{className:"ui right floated negative button",onClick:function(){return a(t.id)}},"Delete"))},D=function(e,t){switch(t.type){case"show_rules":return Object(v.a)(Object(v.a)({},e),{},{rules:t.payload,newRule:""});case"add_rule":return Object(v.a)(Object(v.a)({},e),{},{rules:[].concat(Object(y.a)(e.rules),Object(y.a)(t.payload)),newRule:"",errors:[]});case"add_errors":return Object(v.a)(Object(v.a)({},e),{},{rules:e.rules,errors:t.payload});case"delete_rule":return Object(v.a)(Object(v.a)({},e),{},{rules:Object(y.a)(e.rules.filter((function(e){return e.id!==t.payload})))});case"rule_changed":return Object(v.a)(Object(v.a)({},e),{},{newRule:t.payload});case"change_loading_status":return Object(v.a)(Object(v.a)({},e),{},{isLoading:t.payload});default:return e}},W=function(){var e=Object(n.useReducer)(D,{rules:[],newRule:"",isLoading:!1,errors:[]}),t=Object(g.a)(e,2),a=t[0],c=t[1],l=function(){var e=Object(C.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={add:[{value:a.newRule}]},console.log("payload = ".concat(n)),c({type:"change_loading_status",payload:!0}),e.prev=4,e.next=7,L.a.post("/api/rules",n);case 7:(r=e.sent).data.body.errors?c({type:"add_errors",payload:r.data.body.errors}):c({type:"add_rule",payload:r.data.body.data}),c({type:"change_loading_status",payload:!1}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),c({type:"add_errors",payload:[{detail:e.t0.message}]}),c({type:"change_loading_status",payload:!1});case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(C.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={delete:{ids:[t]}},console.log("payload = ".concat(a)),c({type:"change_loading_status",payload:!0}),e.next=5,L.a.post("/api/rules",a);case 5:c({type:"delete_rule",payload:t}),c({type:"change_loading_status",payload:!1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){Object(C.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"change_loading_status",payload:!0}),e.prev=1,e.next=4,L.a.get("/api/rules");case 4:t=e.sent,console.log("axios.get rulesURL response"),console.log(t),a=t.data.body.data,c({type:"show_rules",payload:void 0===a?[]:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:"add_errors",payload:[e.t0.response.data]});case 14:c({type:"change_loading_status",payload:!1});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))()}),[]),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){return l(e)}},r.a.createElement("div",{className:"ui fluid action input"},r.a.createElement("input",{type:"text",autoFocus:!0,value:a.newRule,onChange:function(e){return c({type:"rule_changed",payload:e.target.value})}}),r.a.createElement("button",{type:"submit",className:"ui primary button"},"Add Rule")),function(){var e=a.errors;if(e&&e.length>0)return e.map((function(e){return r.a.createElement(E,{key:e.title,error:e,styleType:"negative"})}))}(),function(){var e=a.isLoading,t=a.rules,n={title:"No rules present",details:["Here are some example rules to help you get started","1) Discovering new music videos: Imagine a dashboard that lets you see the music videos being shared across Twitter","song youtube has:links context:55.810938279801470977","2) Finding remote developer job openings: Imagine creating a remote developer job listings app with remote developer job openings being shared across Twitter","(developer OR engineer) remote (context:66.961961812492148736 OR context:66.850073441055133696)","3) Learning about personal finance and savings: Surface public conversations about personal finance and savings happening on Twitter","context:66.847888632711061504 has:links -is:retweet savings"],type:"https://developer.twitter.com/en/docs/twitter-api/tweets/filtered-stream/integrate/build-a-rule"};return e?r.a.createElement(b,null):t&&t.length>0?t.map((function(e){return r.a.createElement(F,{key:e.id,data:e,onRuleDelete:function(e){return o(e)}})})):r.a.createElement(E,{key:n.title,error:n,styleType:"warning"})}()))};a(130).config();var z=new(a(52)),I=function(e,t){switch(t.type){case"add_tweet":var a=t.payload.map((function(e){var t=z.analyze(e.text),a="zero",n=t.score;return n<=-6?a="neg5":n<=-4&&n>-6?a="neg4":n<=-2&&n>-4?a="neg3":n<=-1&&n>-2?a="neg2":n>-1&&n<0?a="neg1":0===n?a="zero":n>0&&n<1?a="pos1":n>=1&&n<2?a="pos2":n>=2&&n<4?a="pos3":n>=4&&n<6?a="pos4":n>=6&&(a="pos5"),{id:e.id,text:e.text,score:t.score,comparative:t.comparative,calculation:t.calculation,negative:t.negative,positive:t.positive,sentimentColor:a}}));a.sort((function(e,t){return t.score-e.score}));var n=a.reduce((function(e,t){return t.score+e}),0),r=a.reduce((function(e,t){return t.comparative+e}),0);return Object(v.a)(Object(v.a)({},e),{},{tweets:a,cuScore:n,cuComScore:r});case"add_searchTerm":return Object(v.a)(Object(v.a)({},e),{},{searchTerm:t.payload});default:return e}};var U=function(){var e=Object(n.useReducer)(I,{tweets:[],cuScore:0,cuComScore:0,searchTerm:""}),t=Object(g.a)(e,2),a=t[0],c=t[1],l=a.searchTerm,o=function(){var e=Object(C.a)(S.a.mark((function e(t){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=encodeURIComponent(l),e.prev=2,e.next=5,L.a.get("".concat("/api/recent/").concat(a));case 5:(n=e.sent).data.body.errors?(console.log("Error in fetching tweets"),console.log(n.data.body.errors)):(console.log("Success in fetching tweets"),c({type:"add_tweet",payload:n.data.body.data})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Unable to fetch tweets");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h1",null,"Recent Tweets Search Component"),r.a.createElement("form",null,r.a.createElement("div",{className:"ui fluid action input"},r.a.createElement("input",{type:"text",autoFocus:!0,value:l,onChange:function(e){return c({type:"add_searchTerm",payload:e.target.value})}}),r.a.createElement("button",{className:"ui primary button",onClick:function(e){return o(e)}},"Search Recent Tweets"))),_(a))},P=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"introduction"}),r.a.createElement("h1",{className:"ui header"},r.a.createElement("img",{className:"ui image",src:"/Twitter_Logo_Blue.png",alt:"Twitter Logo"}),r.a.createElement("div",{className:"content"},"Tweet Sentiment Bot",r.a.createElement("div",{className:"sub header"},"Powered by Twitter data"))),r.a.createElement("div",{className:"ui container"},r.a.createElement(d.a,null,r.a.createElement(p,null),r.a.createElement(m.a,{exact:!0,path:"/",component:U}),r.a.createElement(m.a,{exact:!0,path:"/rules",component:W}),r.a.createElement(m.a,{exact:!0,path:"/tweets",component:T}),r.a.createElement(m.a,{exact:!0,path:"/recent",component:U}))))}}]),a}(r.a.Component);a(133);l.a.render(r.a.createElement(P,null),document.querySelector("#root"))},71:function(e,t,a){e.exports=a(134)}},[[71,1,2]]]);
//# sourceMappingURL=main.787dfaaf.chunk.js.map